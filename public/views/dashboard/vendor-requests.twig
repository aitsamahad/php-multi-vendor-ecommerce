{% extends './dashboard/templates/app.twig' %}

{% block content %}
<div class="content-wrapper" style="min-height: 1200.88px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Vendor Requests</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Vendors Requests</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                    {% if flash.getMessage('Success') %}
                      <div class="alert alert-success"><i class="fa fa-check-circle"></i> {{ flash.getMessage('Success') | first }}</div>
                    {% endif %}
          
                    {% if flash.getMessage('Danger') %}
                      <div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ flash.getMessage('Danger') | first }}</div>
                    {% endif %}
                    <table class="table table-striped projects">
              <thead>
                  <tr>
                      <th style="width: 1%">
                          #
                      </th>
                      <th style="width: 20%">
                          Store Name
                      </th>
                      <th style="width: 30%">
                          Store Address
                      </th>
                      <th>
                          Vendor Name
                      </th>
                      <th style="width: 20%">
                      </th>
                  </tr>
              </thead>
              <tbody>
              {% for request in vendor_requests %}
                  <tr>
                      <td>
                          {{ request.id }}
                      </td>
                      <td>
                          <a>
                              {{ request.store_name }}
                          </a>
                      </td>
                      <td>
                        <a>{{ request.store_address }}</a>
                      </td>
                      <td>
                          <a> {{ request.u_name }}</a>
                      </td>
                      <td class="project-actions text-right">
                          <a class="btn btn-info btn-sm" href="{{ path_for('approve.request', {'vendorid': request.u_id , 'storeid': request.store_id }) }}">
                              <i class="fas">
                              </i>
                              Approve
                          </a>
                          <a class="btn btn-danger btn-sm" href="{{ path_for('reject.request', {'vendorid': request.u_id , 'storeid': request.store_id }) }}">
                              <i class="fas">
                              </i>
                              Reject
                          </a>
                      </td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
              </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->
  </div>


  <script>

function preview_image() 
{
 var total_file=document.getElementById("customFile").files.length;
 for(var i=0;i<total_file;i++)
 {
  $('#image_preview').empty();
  $('#image_preview').append("<img src='"+URL.createObjectURL(event.target.files[i])+"' width='100%'><br>");
 }
}
</script>

{% endblock %}